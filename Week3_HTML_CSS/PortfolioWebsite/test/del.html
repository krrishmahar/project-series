<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Portfolio</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
    <link rel="stylesheet" href="/PortfolioWebsite/font-awesome-4.7.0/css/font-awesome.min.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"
        integrity="sha384-oBqDVmMz4fnFO9gybBogGz12AwbKfkAF2CkFzWHUWaErGbvKjkJlB8g7Sk7uebsM"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js"
        integrity="sha384-rbsA2VBKQXUZ0+nUbx3tjUoiqNf5D8K1pLygbRmT+8nj1lY0G+mZVfMOnUCBJH6i"
        crossorigin="anonymous"></script>
    <link rel="stylesheet" href="style.css">
</head>

<body>

    <div class="container">
        <nav class="navbar sticky-top navbar-expand-lg bg-body-tertiary" id="navbar">
            <div class="container-fluid">
                <a class="navbar-brand" href="#">Krrish Mahar</a>
                <div class="collapse navbar-collapse" id="navbarSupportedContent">
                    <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                        <li class="nav-item">
                            <a id="blinker" class="nav-link active" aria-current="page" href="#" data-bs-toggle="modal"
                                data-bs-target="#staticBackdrop" onclick="showAboutMe()">About Me</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="/static/resume.docx">Resume</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="/PortfolioWebsite/test/test2.html">Projects</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="\blog">Blog</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="\contact">Contact</a>
                        </li>
                    </ul>
                    <form class="d-flex" id="search-form" style="display: none; visibility:hidden;">
                        <input class="form-control me-2" type="search" placeholder="Search" aria-label="Search">
                        <button class="btn btn-outline-success" id="search-btn" type="submit"
                            onclick="toggleSearch()">Search</button>
                    </form>
                    <i class="fa fa-search search-icon ml-auto" aria-hidden="true" onclick="toggleSearch()"></i>
                    <button class="btn btn-outline-light ml-2" id="theme-toggle" onclick="toggleTheme()">
                        <i class="fa fa-adjust" aria-hidden="true" style="display: flex;"></i>
                    </button>
                </div>
            </div>
        </nav>

        <div class="content" style="position: relative;">
            <div class="card text-bg-dark mb-3" id="main-bg">
                <img src="https://images.unsplash.com/photo-1601895912784-8774950a9089?q=80&w=1931&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"
                    class="card-img" alt="Background Image">
                <div class="card-img-overlay">
                    <h5 class="card-title">Card title</h5>
                    <p class="card-text">This is a wider card with supporting text below as a natural lead-in to
                        additional content. This content is a little bit longer.</p>
                    <p class="card-text"><small>Last updated 3 mins ago</small></p>
                </div>
            </div>
        </div>

        <!-- Modal -->
        <div class="modal fade" id="staticBackdrop" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1"
            data-bs-target=""="staticBackdropLabel" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h1 class="modal-title fs-5" id="staticBackdropLabel">About Me</h1>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        <div class="row g-0">
                            <div class="col-md-4">
                                <img id="modal-img" src="/static/img/img1.jpg" class="img-fluid rounded-start"
                                    alt="NO PIC FOUND">
                            </div>
                            <div class="col-md-8">
                                <div class="card-body">
                                    <p id="modal-text">This is some placeholder content for a horizontal collapse. It's
                                        hidden by default and shown when triggered.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                        <button type="button" class="btn btn-outline-success" id="download-btn-modal">
                            <a href="">
                                <i class="fa fa-download" aria-hidden="true"></i> Download CV
                            </a>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>


        function toggleSearch() {
            var form = document.getElementById('search-form');
            var icon = document.querySelector('.search-icon');
            if (form.style.display === 'none') {
                form.style.display = 'flex';
                form.style.visibility = 'visible'
                icon.style.display = 'none';
            } else {
                form.style.display = 'none';
                form.style.visibility = 'hidden'
                icon.style.display = 'flex';
            }
        }

        function toggleTheme() {
            const body = document.body;
            const currentTheme = body.classList.contains('dark-theme') ? 'dark' : 'light';
            const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
            body.classList.remove(`${currentTheme}-theme`);
            body.classList.add(`${newTheme}-theme`);
            localStorage.setItem('theme', newTheme);
        }

        function applyTheme() {
            const savedTheme = localStorage.getItem('theme');
            const systemPrefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
            const theme = savedTheme || (systemPrefersDark ? 'dark' : 'light');
            document.body.classList.add(`${theme}-theme`);
        }

        document.addEventListener('DOMContentLoaded', applyTheme);

        function showAboutMe() {
            const mainBg = document.getElementById('main-bg');
            mainBg.classList.toggle('card-img');

            const aboutMeCard = document.getElementById('about-me-card');
            const modalImg = document.getElementById('modal-img');
            const modalText = document.getElementById('modal-text');

            // Update the modal content
            modalText.innerHTML = "This is some placeholder content for a horizontal collapse. It's hidden by default and shown when triggered.";
            modalImg.src = "/static/img/img1.jpg"; // Replace with actual image source
            aboutMeCard.style.display = "block";
            aboutMeCard.style.visibility = 'visible';
        }
    </script>
</body>

</html>